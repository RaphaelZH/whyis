<div> 
  <template>
      <md-card style="margin: 40px" >
        <md-steppers :md-active-step.sync="active" md-linear>

          <md-step id="first" md-label="Upload files" :md-done.sync="first"> 
            <div style="margin: 20px">
              <md-field>
                <label>Upload distributions (multiple allowed)</label>
                <md-file v-model="distributions" multiple />
              </md-field>
    
              <md-field>
                <label>Upload a representative image</label>
                <md-file v-model="rep_image" accept="image/*" />
              </md-field>
            </div>
            <md-button class="md-raised md-primary" @click="setDone('first', 'second')">Next</md-button>
          </md-step>


            <md-step id="second" md-label="Fill out form" :md-done.sync="second">
              <div class="md-layout">

                <!---------- General Info fields ---------->
                <md-content style="width: 100%; margin: 20px">
                  <div class="md-headline" style="margin-top: 10px">
                    General Information
                  </div>
                  <md-field>
                    <label>Title</label>
                    <md-input v-model="title"></md-input>
                  </md-field>
              
                  <div class="md-layout md-gutter" style="align-items: center;">
                    <div class="md-layout-item md-size-15">
                      <label>Contact Point</label>
                    </div>
              
                    <div class="md-layout-item md-size-30">
                      <md-field>
                        <label>First name</label>
                        <md-input v-model="cpfirstname"></md-input>
                      </md-field>
                    </div>
              
                    <div class="md-layout-item md-size-30">
                      <md-field>
                        <label>Last name</label>
                        <md-input v-model="cplastname"></md-input>
                      </md-field>
                    </div>
              
                    <div class="md-layout-item md-size-25">
                      <md-field>
                        <label>Email</label>
                        <md-input v-model="cpemail"></md-input>
                      </md-field>
                    </div>
                  </div>

                  <md-field>
                    <label>Text Description</label>
                    <md-textarea v-model="textdescription"></md-textarea>
                  </md-field>
                </md-content>
            
                <md-divider style="border-style: solid" width="100%"></md-divider>


                <!---------- Contributor fields -------->
                <md-content style="width: 100%; margin: 20px">
                  <div class="md-headline" style="margin-top: 10px; margin-bottom: 10px"> 
                    Contributors
                  </div>
              
                  <table class="table" width="100%">
                    <thead>
                      <tr>
                        <td>
                          <div class="md-subheading">Organization/Institution</div>
                        </td>
                        <td>
                          <div class="md-subheading">Author(s) from this Org/Inst </div>
                        </td>
                        <td></td>
                      </tr>
                    </thead>
                    <tbody>
                      <tr v-for="(row, index) in contributors" v-bind:key="index">
                        <td><input type="text" v-model="row['org']" style="width:90%" /></td>
                        <td><input type="text" v-model="row['authors']" style="width:90%"/></td>
                        <td>
                          <a v-on:click="removeElement(index)" style="cursor: pointer"
                            >Remove</a
                          >
                        </td>
                      </tr>
                    </tbody>
                  </table>
                  <div>
                    <button
                      class="button btn-primary"
                      @click="addOrg"
                      style="margin: 10px"
                    >
                      Add row
                    </button>
                  </div>
                </md-content>

                <md-divider style="border-style: solid" width="100%"></md-divider>
            
                <!-- -------- Publication Info fields -------- -->
                <md-content style="width: 100%; margin: 20px">
                  <div class="md-headline" style="margin-top: 10px; margin-bottom: 10px">
                    Publication Information
                  </div>
              
                  <div style="width: 100%">
                    <div class="md-layout md-gutter">
                      <div class="md-layout-item md-size-50">
                        <label>Date Published</label>
                        <md-field>
                          <md-input v-model="datepub" type="date"></md-input>
                        </md-field>
                      </div>
              
                      <div class="md-layout-item md-size-50">
                        <label>Date Last Modified</label>
                        <md-field>
                          <md-input v-model="datemod" type="date"></md-input>
                        </md-field>
                      </div>
                    </div>
              
                    <div>
                      <md-field>
                        <label>DOI(s) of Related Publication(s)</label>
                        <md-input v-model="dois"></md-input>
                        <span class="md-helper-text">Separate multiple DOIs with ','</span>
                      </md-field>
                    </div> 
                  </div>
                </md-content>
                <md-button class="md-raised md-primary" @click="setDone('second', 'third')">Next</md-button>
              </div>
            </md-step>

            <md-step id="third" md-label="Confirm and Submit" :md-done.sync="third">

              <div class="md-headline" style="margin: 10px">
                Form Results
              </div>
              <md-content style="width: 100%; margin: 20px">
                <span>Title: {{ title }}</span>
                <p>
                  Contact Point: {{ cpfirstname }} {{ cplastname }} - {{ cpemail }}
                </p>
                <p>Text Description: {{ textdescription }}</p>
                <span>Contributors</span>
                <div
                  style="margin-left: 20px"
                  v-for="(elem, index) in contributors"
                  v-bind:key="index"
                >
                  {{ elem.org }}: {{ elem.authors }}
                </div>
                <p>Date Published: {{ datepub }}</p>
                <p>Date Last Modified: {{ datemod }}</p>
                <p>DOIs of Related Publications: {{ dois }}</p>
                <p>Distributions: {{ distributions }}</p>
                <p>Representative Image: {{ rep_image }}</p>
              </md-content>

              <md-card-actions>
                <md-button v-on:click="submitForm" class="md-primary"
                  >Submit</md-button
                >
              </md-card-actions>

            </md-step>
        </md-steppers>
      </md-card>
  </template> 
</div>