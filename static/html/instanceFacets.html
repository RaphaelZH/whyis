<div ng-cloak md-whiteframe="2" >
  <md-toolbar>
    <div class="md-toolbar-tools" layout="row">
      <h2 flex ng-bind="title"></h2>
      <ng-transclude>
      </ng-transclude>
    </div>
  </md-toolbar>
  <md-progress-linear ng-show="isLoadingResults" md-mode="indeterminate"></md-progress-linear>
  <uib-alert flex ng-if="error" type="danger"><span ng-bind="error"></span></uib-alert>
  <div layout="row"  style="height:100%">
    <md-content  flex="30" style="overflow:scroll">
      <md-subheader >{{pager.getLength()}} results found.</md-subheader>
      <!-- Facets are defined here using the configurations defined in the controller -->
        <div ng-repeat="facet in facets" ng-switch="facet.type">
          <whyis-text-facet ng-switch-when="text" data-options="facet"></whyis-text-facet>
          <whyis-smart-facet ng-switch-when="basic" data-options="facet"></seco-basic-facet>
          <seco-hierarchy-facet ng-switch-when="hierarchy"  data-options="facet"></seco-hierarchy-facet>
          <seco-checkbox-facet ng-switch-when="checkbox"  data-options="facet"></seco-checkbox-facet>
          <seco-timespan-facet ng-switch-when="timespan"  data-options="facet"></seco-timespan-facet>
        </div>
    </md-content>

    <!-- Results view -->
    <div flex="grow" layout="column" >
            <md-content layout="column" when-scrolled="pager.loadMore()" >
              <kg-card ng-repeat="entity in pager.all track by entity.id" compact="true" src="entity.id">
              </kg-card>
            </md-content>
    </div>
  </div>
</div>
